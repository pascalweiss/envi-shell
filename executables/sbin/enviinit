# export paths

# Load cli tools
if [[ "$(uname)" = *Darwin* ]]; then 
    export PATH=$PATH:$ENVI_HOME/executables/macbin
elif [[ "$(uname)" = *Linux* ]]; then 
    export PATH=$PATH:$ENVI_HOME/executables/linuxbin
fi

# system agnostic bin
export PATH=$PATH:$ENVI_HOME/executables/bin

source $ENVI_HOME/defaults/default_env.sh
source $ENVI_HOME/executables/bin/commons
source $ENVI_HOME/defaults/default_shortcuts.sh

# Apply user settings FIRST (so variables are available)
if [ "$ENVI_ENV" = "true" ]; then source $ENVI_HOME/config/.envi_env; fi

if [ "$ENVI_LOCATIONS" = "true" ]; then source $ENVI_HOME/config/.envi_locations; fi

if [ "$ENVI_SHORTCUTS" = "true" ]; then source $ENVI_HOME/config/.envi_shortcuts; fi

# Apply environment settings
if [ "$ENVI_256_COLORS" = "true" ]; then 256colors true; else 256colors false; fi

if [ "$ENVI_UTF_8" = "true" ]; then export LC_ALL="en_US.UTF-8"; fi

# Eventually add new theme to .oh_my_zsh/themes
if [ -e "$ZSH" ] && [ ! -e "$ZSH/themes/$ZSH_THEME.zsh-theme" ] && [ -e "$HOME/.envi/submodules/dotfiles/themes/$ZSH_THEME.zsh-theme" ]; then
    ln -s "$HOME/.envi/submodules/dotfiles/themes/$ZSH_THEME.zsh-theme" "$ZSH/themes/"
fi
if [ ! -e "$ZSH/themes/$ZSH_THEME.zsh-theme" ]; then
    ZSH_THEME="robbyrussell"
fi
